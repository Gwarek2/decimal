#include "dev_decimal.h"

// checkmk clean_mode=1 test_sprintf.check > test_s21_sprinrf.c

#test float_01
    float zero = 0.0, val = zero;
    s21_decimal dec_1;
    s21_from_float_to_decimal(val, &dec_1);
    ck_assert_float_eq(val, 0.0);

#test float_02
    float zero = 0.0, val = (0.0 / zero);
    s21_decimal dec_1;
    int res = s21_from_float_to_decimal(val, &dec_1);
    ck_assert_int_eq(res, 1);

#test float_03
    float zero = 0.0, val = (1.0 / zero);
    s21_decimal dec_1;
    int res = s21_from_float_to_decimal(val, &dec_1);
    ck_assert_int_eq(res, 1);

#test float_04
    float val = 1e-29;
    s21_decimal dec_1;
    int res = s21_from_float_to_decimal(val, &dec_1);
    ck_assert_int_eq(res, 1);
    ck_assert_int_eq(dec_1.bits[0], 0);

#test float_05
    float val = 79228162514264337593543950336.0;
    s21_decimal dec_1;
    int res = s21_from_float_to_decimal(val, &dec_1);
    ck_assert_int_eq(res, 1);

#test float_06
    float val = -79228162514264337593543950336.0;
    s21_decimal dec_1;
    int res = s21_from_float_to_decimal(val, &dec_1);
    ck_assert_int_eq(res, 1);

#test float_07
    float val = 792281625142643.3;
    s21_decimal dec_1, dec_2;
    s21_from_float_to_decimal(val, &dec_1);
    copy_decimal(&dec_2, dec_1);
    float res;
    s21_from_decimal_to_float(dec_2, &res);
    ck_assert_float_eq(val, res);

#test float_08
    float val = -792281625142643.3;
    s21_decimal dec_1, dec_2;
    s21_from_float_to_decimal(val, &dec_1);
    copy_decimal(&dec_2, dec_1);
    float res;
    s21_from_decimal_to_float(dec_2, &res);
    ck_assert_float_eq(val, res);

#test float_09
    float val = 0.7922816251426433, res;
    s21_decimal dec_1, dec_2;
    s21_from_float_to_decimal(val, &dec_1);
    copy_decimal(&dec_2, dec_1);
    s21_from_decimal_to_float(dec_2, &res);
    ck_assert_float_eq(val, res);

#test float_10
    float val = -0.7922816251426433, res;
    s21_decimal dec_1, dec_2;
    s21_from_float_to_decimal(val, &dec_1);
    copy_decimal(&dec_2, dec_1);
    s21_from_decimal_to_float(dec_2, &res);
    ck_assert_float_eq(val, res);

#test float_11
    float val = 0.0000000000000001, res;
    s21_decimal dec_1, dec_2;
    s21_from_float_to_decimal(val, &dec_1);
    copy_decimal(&dec_2, dec_1);
    s21_from_decimal_to_float(dec_2, &res);
    ck_assert_float_eq(val, res);

#test float_12
    float val = 10000000000000000.0, res;
    s21_decimal dec_1, dec_2;
    s21_from_float_to_decimal(val, &dec_1);
    copy_decimal(&dec_2, dec_1);
    s21_from_decimal_to_float(dec_2, &res);
    ck_assert_float_eq(val, res);
